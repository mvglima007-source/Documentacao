@model SistemaEspaco.Models.ViewModels.DashboardReserva

@{
    ViewData["Title"] = "Dashboard de Reservas";
}

<style>
    body {
        background-attachment: fixed;
        min-height: 100vh;
        color: white;
    }
</style>

<h1 class="mb-8 text-center text-4xl font-extrabold text-white drop-shadow-lg">
    Dashboard de Reservas
</h1>

<div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">

       
        <div class="bg-[rgba(20,20,40,0.55)] backdrop-blur-xl
                    border border-white/10 shadow-2xl rounded-2xl p-6 text-center">
            <p class="text-purple-300 text-lg font-semibold">Total de Reservas</p>
            <p class="text-4xl font-extrabold mt-2 text-white">
                @Model.TotalReservas
            </p>
        </div>

        
        <div class="bg-[rgba(20,20,40,0.55)] backdrop-blur-xl
                    border border-green-500/30 shadow-2xl rounded-2xl p-6 text-center">
            <p class="text-green-400 text-lg font-semibold">Reservas Ativas</p>
            <p class="text-4xl font-extrabold mt-2 text-green-300">
                @Model.ReservasAtivas
            </p>
        </div>

       
        <div class="bg-[rgba(20,20,40,0.55)] backdrop-blur-xl
                    border border-red-500/30 shadow-2xl rounded-2xl p-6 text-center">
            <p class="text-red-400 text-lg font-semibold">Reservas Finalizadas</p>
            <p class="text-4xl font-extrabold mt-2 text-red-300">
                @Model.ReservasFinalizadas
            </p>
        </div>

    </div>

   
    <div class="flex justify-center">
        <div class="w-full max-w-3xl">

            <div class="bg-[rgba(20,20,40,0.55)] backdrop-blur-xl
                        border border-white/10 shadow-2xl rounded-2xl p-8">

                <h2 class="text-center text-2xl font-bold text-purple-300 mb-6">
                    Situação das Reservas
                </h2>

                <div class="flex justify-center mt-8">
                    <div style="width: 260px; height: 260px;">
                        <canvas id="graficoReservas"></canvas>
                    </div>
                </div>


            </div>

        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        const ctx = document.getElementById('graficoReservas');

        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['Ativas', 'Finalizadas'],
                datasets: [{
                    data: [
                        @Model.ReservasAtivas,
                        @Model.ReservasFinalizadas
                    ],
                    backgroundColor: [
                        'rgba(34,197,94,0.7)',
                        'rgba(239,68,68,0.7)'
                    ],
                    borderColor: [
                        'rgba(34,197,94,1)',
                        'rgba(239,68,68,1)'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                plugins: {
                    legend: {
                        labels: {
                            color: '#e5e7eb',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        }
                    }
                }
            }
        });
    </script>
}
