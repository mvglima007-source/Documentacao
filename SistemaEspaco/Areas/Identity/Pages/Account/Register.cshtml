@page
@model RegisterModel
@{
    ViewData["Title"] = "Criar Conta";
}

<div class="min-h-screen flex items-center justify-center bg-[url('/img/bg.jpg')] bg-cover bg-center">
    <div class="w-full max-w-md bg-white/10 backdrop-blur-md shadow-xl rounded-2xl p-8 border border-white/20">

        <h1 class="text-center text-3xl font-bold text-white mb-6">Criar Conta</h1>

        <form id="registerForm" asp-route-returnUrl="@Model.ReturnUrl" method="post" class="space-y-4">

            <div asp-validation-summary="ModelOnly" class="text-red-400 text-sm"></div>

           
            <div>
                <label asp-for="Input.Email" class="text-white font-medium"></label>
                <input asp-for="Input.Email"
                       class="w-full mt-1 p-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-gray-300
                              focus:ring-2 focus:ring-cyan-300 focus:outline-none"
                       autocomplete="username"
                       placeholder="seuemail@exemplo.com" />
                <span asp-validation-for="Input.Email" class="text-red-400 text-sm"></span>
            </div>

        
            <div>
                <label asp-for="Input.Password" class="text-white font-medium">Senha</label>
                <input asp-for="Input.Password"
                       type="password"
                       class="w-full mt-1 p-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-gray-300
                              focus:ring-2 focus:ring-cyan-300 focus:outline-none"
                       autocomplete="new-password"
                       placeholder="••••••••" />
                <span asp-validation-for="Input.Password" class="text-red-400 text-sm"></span>
            </div>

      
            <div>
                <label asp-for="Input.ConfirmPassword" class="text-white font-medium">Confirma Senha</label>
                <input asp-for="Input.ConfirmPassword"
                       type="password"
                       class="w-full mt-1 p-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder-gray-300
                              focus:ring-2 focus:ring-cyan-300 focus:outline-none"
                       autocomplete="new-password"
                       placeholder="••••••••" />
                <span asp-validation-for="Input.ConfirmPassword" class="text-red-400 text-sm"></span>
            </div>

         
            <button id="registerSubmit"
                    type="submit"
                    class="w-full py-3 rounded-xl font-semibold bg-cyan-400 text-gray-900 hover:bg-cyan-300 transition">
                Criar Conta
            </button>

        </form>

   
        @if ((Model.ExternalLogins?.Count ?? 0) > 0)
        {
            <div class="mt-6">

                <h3 class="text-center text-white font-medium mb-3">
                    Registrar usando outro serviço
                </h3>

                <form id="external-account"
                      asp-page="./ExternalLogin"
                      asp-route-returnUrl="@Model.ReturnUrl"
                      method="post"
                      class="flex flex-col space-y-2">

                    @foreach (var provider in Model.ExternalLogins!)
                    {
                        <button type="submit"
                                name="provider"
                                value="@provider.Name"
                                class="w-full py-2 rounded-xl bg-white/10 border border-white/30 text-white
                                               hover:bg-white/20 transition"
                                title="Registrar usando @provider.DisplayName">
                            @provider.DisplayName
                        </button>
                    }
                </form>

            </div>
        }

    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
